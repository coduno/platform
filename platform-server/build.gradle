apply plugin: 'org.asciidoctor.gradle.asciidoctor'

dependencies {
    compile project(':platform-server-kernel')
    compile project(':platform-server-rest')

    compile "org.springframework.boot:spring-boot-starter-mail"

    compile "org.hibernate:hibernate-entitymanager"
    compile "org.hibernate:hibernate-core"
    compile "org.hibernate:hibernate-java8"

    compile "org.slf4j:jcl-over-slf4j"
    compile "ch.qos.logback:logback-classic"

    testCompile "org.springframework.restdocs:spring-restdocs-mockmvc"
}

bootRepackage {
    mainClass = 'uno.cod.platform.server.Server'
}

ext {
    snippetsDir = file('build/generated-snippets')
}

test {
    outputs.dir snippetsDir
}

asciidoctor {
    attributes 'snippets': snippetsDir
    sourceDir snippetsDir
    dependsOn test
}
