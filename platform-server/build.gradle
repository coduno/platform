apply plugin: 'spring-boot'
apply plugin: 'org.asciidoctor.gradle.asciidoctor'

dependencies {
    compile project(':platform-server-kernel')
    compile project(':platform-server-rest')

    compile "org.hibernate:hibernate-entitymanager:5.0.2.Final"
    compile "org.hibernate:hibernate-core:5.0.2.Final"
    compile "org.hibernate:hibernate-java8:5.0.2.Final"

    compile "org.slf4j:jcl-over-slf4j:${slf4jVersion}"
    compile "ch.qos.logback:logback-classic:1.1.3"

    testCompile 'org.springframework.restdocs:spring-restdocs-mockmvc:1.0.0.RELEASE'
}

bootRepackage {
    mainClass = 'uno.cod.platform.server.Server'
}

ext {
    snippetsDir = file('build/generated-snippets')
}

test {
    outputs.dir snippetsDir
}

asciidoctor {
    attributes 'snippets': snippetsDir
    sourceDir snippetsDir
    dependsOn test
}